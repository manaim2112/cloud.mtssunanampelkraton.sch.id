import{ac as W,r as n,t as q,ae as v,al as z,am as D,an as F,ao as Y,j as e,S as $,N as Q,T as X,ap as Z,F as _,G as T,H as c,J as O,K as h,C as A,x as ee,y as se,E as ae,aq as R,ar as w,as as E,at as L,au as G,av as I,aw as U}from"./index-B5CwwndN.js";function ne(){const{id:x}=W(),[m,V]=n.useState([]),[u,B]=n.useState([]),[j,P]=n.useState([]),[d,f]=n.useState([]),[t,b]=n.useState(),[r,C]=n.useState(),[o,k]=n.useState(),[p]=n.useState(q()),[N,H]=n.useState();n.useEffect(()=>{fetch(v(Number(x))).then(s=>s.json()).then(s=>{s.status===200&&H(s.data)})},[x]);const S=s=>{const a=o==null?void 0:o.findIndex(l=>l.iduser==s.id);if(a==-1||a===void 0)return"BELUM";const{process:i}=o?o[a]:{process:"BELUM"};return i};n.useEffect(()=>{fetch(z).then(s=>s.json()).then(s=>{s.status===200&&(V(s.data),fetch(D).then(a=>a.json()).then(a=>{a.status===200&&(B(a.data),fetch(F).then(i=>i.json()).then(i=>{if(i.status!==200)return;P(i.data);const J=a.data.filter(g=>g.name.trim()==(p==null?void 0:p.walikelas));b(a.data[0]),C(i.data[0]);const K=s.data.filter(g=>g.sesi.trim()==J[0].name.trim()&&g.ruang.trim()=="1");f(K)}))}))})},[p]),n.useEffect(()=>{fetch(Y(Number(x))).then(s=>s.json()).then(s=>{s.status===200&&k(s.data)})},[x]),n.useEffect(()=>{f(d)},[d]);const M=s=>{if(!t)return;const a=u==null?void 0:u.filter(l=>l.name.trim()==s.trim());b(a[0]);const i=m.filter(l=>l.sesi==s.trim()&&l.ruang==String(r==null?void 0:r.name).trim());f(i)},y=s=>{if(!r)return;const a=j==null?void 0:j.filter(l=>l.name.trim()==s.trim());C(a[0]);const i=m.filter(l=>l.ruang==s.trim()&&l.sesi==String(t==null?void 0:t.name).trim());f(i)};return e.jsxs("div",{className:"flex min-h-screen w-full flex-col bg-muted/40",children:[e.jsx($,{}),e.jsxs("div",{className:"flex flex-col sm:gap-4 md:pl-14",children:[e.jsx(Q,{}),e.jsxs("main",{className:"grid flex-1 items-start gap-4 p-4 sm:px-6 sm:py-0 md:gap-8 lg:grid-cols-3 xl:grid-cols-3",children:[e.jsxs("div",{className:"order-2 lg:order-1 grid auto-rows-max items-start gap-4 md:gap-8 lg:col-span-2",children:[e.jsxs("div",{className:"text-xl font-semibold uppercase",children:[d==null?void 0:d.length," dari ",m==null?void 0:m.length," Murid"]}),e.jsxs(X,{className:"w-full",children:[e.jsx(Z,{children:"A list of your recent invoices."}),e.jsx(_,{children:e.jsxs(T,{children:[e.jsx(c,{className:"w-[100px]",children:"NISN"}),e.jsx(c,{children:"Nama Lengkap"}),e.jsx(c,{children:"Status"}),e.jsx(c,{children:"Target"}),e.jsx(c,{children:"Peringatan"}),e.jsx(c,{children:"Nilai Sementara"}),e.jsx(c,{className:"text-right",children:"Photo"})]})}),e.jsx(O,{children:d==null?void 0:d.map((s,a)=>e.jsxs(T,{className:` ${S(s)=="finish"?"bg-green-400":S(s)=="START"?"bg-blue-200":""}`,children:[e.jsx(h,{className:"font-medium",children:s.nisn}),e.jsx(h,{children:s.name}),e.jsxs(h,{children:[S(s)," UJIAN"]}),e.jsx(h,{children:s.photo??"NO"}),e.jsx(h,{children:"KELUAR LAYAR"}),e.jsx(h,{children:"40"}),e.jsx(h,{className:"text-right",children:s.photo})]},a))})]})]}),e.jsx("div",{className:"order-1 lg:order-2",children:e.jsxs(A,{className:"overflow-hidden","x-chunk":"dashboard-05-chunk-4",children:[e.jsx(ee,{className:"bg-muted/50",children:e.jsx("div",{className:"grid gap-0.5",children:e.jsx(se,{className:"group flex items-center gap-2 text-4xl",children:N==null?void 0:N.name})})}),e.jsxs(ae,{className:"p-6 text-sm",children:[e.jsxs("div",{className:"grid gap-3",children:[e.jsxs("div",{className:"font-semibold",children:["Sesi ",t==null?void 0:t.name]}),e.jsx("div",{className:"ml-auto w-full items-end gap-1",children:e.jsxs(R,{defaultValue:t==null?void 0:t.name.trim(),onValueChange:s=>M(s),children:[e.jsx(w,{className:"w-[180px]",children:e.jsx(E,{placeholder:"Pilih Sesi",defaultValue:t==null?void 0:t.name})}),e.jsx(L,{children:e.jsxs(G,{children:[e.jsx(I,{children:"Sesi"}),u.map((s,a)=>e.jsxs(U,{value:s.name,children:["Sesi ",s.name]},a))]})})]})})]}),e.jsxs("div",{className:"grid gap-3 mt-4",children:[e.jsxs("div",{className:"font-semibold",children:["Ruang ",r==null?void 0:r.name]}),e.jsx("div",{className:"ml-auto w-full items-end gap-1",children:e.jsxs(R,{defaultValue:r==null?void 0:r.name.trim(),onValueChange:s=>y(s),children:[e.jsx(w,{className:"w-[180px]",children:e.jsx(E,{placeholder:"Pilih Sesi"})}),e.jsx(L,{children:e.jsxs(G,{children:[e.jsx(I,{children:"Sesi"}),j.map((s,a)=>e.jsxs(U,{value:s.name,children:["Ruang ",s.name]},a))]})})]})})]})]})]})})]})]})]})}export{ne as default};
